<!DOCTYPE html>
<html translate="no">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>X3DOM</title>
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <!-- X3DOM -->
        <link rel='stylesheet' type='text/css' href='https://www.x3dom.org/download/x3dom.css'></link>
        <!-- Material Design -->
        <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
        
    </head>
    <body>
        <!-- Bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
        <!-- X3DOM -->
        <script type='text/javascript' src='https://www.x3dom.org/download/x3dom.js'></script>
        <!-- Material Design -->
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

        <div class="container-fluid">
            <div class="row py-5">
                <div class="col-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Insertar Figura</h5>

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="radioButtonFigura" id="radioButtonCubo" value="hola" checked>
                                <label class="form-check-label label-style" for="radioButtonCubo">
                                    Cubo
                                </label>
                            </div>

                            <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputCuboLado">
                                <span class="mdc-text-field__ripple"></span>
                                <span class="mdc-floating-label" id="labelCuboLado">Lado</span>
                                <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelCuboLado" min="1" value="1">
                                <span class="mdc-line-ripple"></span>
                            </label>
                            
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="radioButtonFigura" value="mundo" id="radioButtonEsfera">
                                <label class="form-check-label label-style" for="radioButtonEsfera">
                                    Esfera
                                </label>
                            </div>

                            <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputEsferaRadio">
                                <span class="mdc-text-field__ripple"></span>
                                <span class="mdc-floating-label" id="labelEsferaRadio">Radio</span>
                                <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelEsferaRadio" min="1" value="1">
                                <span class="mdc-line-ripple"></span>
                            </label>

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="radioButtonFigura" id="radioButtonCono">
                                <label class="form-check-label label-style" for="radioButtonCono">
                                    Cono
                                </label>
                            </div>

                            <div class="d-inline-flex mt-1 mb-4 w-100">
                                <div class="padding-right-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled w-100" id="inputConoRadio">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelConoRadio">Radio</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelConoRadio" min="1" value="1">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                                
                                <div class="padding-left-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled ml-1 w-100" id="inputConoAlto">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelConoAlto">Alto</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelConoAlto" min="1" value="1">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="radioButtonFigura" id="radioButtonToro">
                                <label class="form-check-label label-style" for="radioButtonToro">
                                    Toro
                                </label>
                            </div>

                            <div class="d-inline-flex mt-1 w-100">
                                <div class="padding-right-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputToroRadioInterior">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelToroRadioInterior">Radio Interior</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelToroRadioInterior" min="1" value="1">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                                
                                <div class="padding-left-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputToroRadioExterior">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelToroRadioExterior">Radio Exterior</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelToroRadioExterior" min="1" value="1">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="section-color mb-3">
                                <label class="label-style padding-right-10">Color</label>
                                <input type="color" id="inputColorInsertar">
                            </div>

                            <div class="d-inline-flex mt-1 w-100">
                                <div class="padding-right-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputPosicionX">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelPosicionX">Posicion X</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelPosicionX" value="0">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                                
                                <div class="padding-left-5 padding-right-5 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputPosicionY">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelPosicionY">Posicion Y</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelPosicionY" value="0">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>

                                <div class="padding-left-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="inputPosicionZ">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelPosicionZ">Posicion Z</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelPosicionZ" value="0">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="text-right">
                                <button type="button" class="mdc-button mdc-button--raised" id="btnInsertar">
                                    <span class="mdc-button__label">Insertar</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card mt-5">
                        <div class="card-body">
                            <h5 class="card-title">Editar Figura</h5>

                            <div class="section-color mt-4">
                                <label class="label-style padding-right-10">Color</label>
                                <input type="color" id="inputColorEditar">
                            </div>

                            <div class="d-inline-flex mt-4 w-100">
                                <div class="padding-right-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="TrasladarX">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelTrasladarX">Trasladar X</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelTrasladarX" value="0" id="inputTrasladarX">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                                
                                <div class="padding-left-5 padding-right-5 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="TrasladarY">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelTrasladarY">Trasladar Y</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelTrasladarY" value="0" id="inputTrasladarY">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>

                                <div class="padding-left-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="TrasladarZ">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelTrasladarZ">Trasladar Z</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelTrasladarZ" value="0" id="inputTrasladarZ">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="d-inline-flex mt-1 w-100">
                                <div class="padding-right-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="EscalarX">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelEscalarX">Escalar X</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelEscalarX" min="1" value="1" id="inputEscalarX">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                                
                                <div class="padding-left-5 padding-right-5 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="EscalarY">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelEscalarY">Escalar Y</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelEscalarY" min="1" value="1" id="inputEscalarY">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>

                                <div class="padding-left-10 w-100">
                                    <label class="mdc-text-field mdc-text-field--filled mt-1 mb-4 w-100" id="EscalarZ">
                                        <span class="mdc-text-field__ripple"></span>
                                        <span class="mdc-floating-label" id="labelEscalarZ">Escalar Z</span>
                                        <input class="mdc-text-field__input" type="number" step="0.1" aria-labelledby="labelEscalarZ" min="1" value="1" id="inputEscalarZ">
                                        <span class="mdc-line-ripple"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="text-right">
                                <button type="button" class="mdc-button mdc-button--raised" id="btnEditar" onclick="editarFigura();">
                                    <span class="mdc-button__label">Editar</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-8">
                    <X3D class="x3d">
                        <scene id="x3dGroup">
                            <inline url="./assets/axis.x3d"></inline>
                            <inline url="./assets/grid_20x20.x3d"></inline>
                            <script>
                                let figuraSeleccionada;
                                const seleccionarFigura = (event) => {
                                    if(figuraSeleccionada != null) {
                                        figuraSeleccionada.children[0].children[0].setAttribute('transparency', '0.0');		
                                    }

                                    if(event.target.children[0].children[0].getAttribute('transparency') == '0.0') {
                                        event.target.children[0].children[0].setAttribute('transparency', '0.5');
                                        figuraSeleccionada = event.target;
                                    }
                                    else {
                                        event.target.children[0].children[0].setAttribute('transparency', '0.0');
                                        figuraSeleccionada = null;
                                    }
                                }
                                const editarFigura = () => {
                                    const inputColorEditar = document.querySelector('#inputColorEditar');
                                    const inputTrasladarX = document.querySelector('#inputTrasladarX'),
                                          inputTrasladarY = document.querySelector('#inputTrasladarY'),
                                          inputTrasladarZ = document.querySelector('#inputTrasladarZ');

                                    const inputEscalarX = document.querySelector('#inputEscalarX'),
                                          inputEscalarY = document.querySelector('#inputEscalarY'),
                                          inputEscalarZ = document.querySelector('#inputEscalarZ');

                                    if(figuraSeleccionada !== null) {
                                        figuraSeleccionada.children[0].children[0].setAttribute('diffuseColor', inputColorEditar.value);
                                        figuraSeleccionada.parentNode.setAttribute('translation', inputTrasladarX.value + ' ' + inputTrasladarY.value + ' ' + inputTrasladarZ.value);
                                        figuraSeleccionada.parentNode.setAttribute('scale', inputEscalarX.value + ' ' + inputEscalarY.value + ' ' + inputEscalarZ.value);

                                        figuraSeleccionada.children[0].children[0].setAttribute('transparency', '0.0');
                                        figuraSeleccionada = null;
                                    }
                                }
                            </script>
                        </scene>
                    </X3D>
                </div>
            </div>
        </div>
    </body>
</html>